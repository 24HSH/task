<?xml version="1.0" encoding="GB2312"?>
<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="oms.receipt.detail">
	
	<typeAlias alias="receiptDetail" type="com.hsh24.sync.api.oms.bo.ReceiptDetail" />
	
	<select id="getReceiptDetailList" parameterClass="receiptDetail" resultClass="receiptDetail">
	<![CDATA[
		SELECT t.detail_id AS detailId,
			   t.order_id AS orderId,
			   t.quantity,
			   t.modify_user AS modifyUser,
			   p.item_id AS itemId,
			   p.price,
			   q.bar_code AS barCode,
			   q.item_code  AS itemCode
		  FROM dms.dms_tb_receipt_detail t, dms.dms_tb_order p, oms.dms_vw_goods q
		 WHERE t.order_id = p.order_id
		   AND p.item_id = q.item_id
		   AND t.state = 'U'
		   AND t.receipt_id = #receiptId#
	]]>
	</select>
	
</sqlMap>