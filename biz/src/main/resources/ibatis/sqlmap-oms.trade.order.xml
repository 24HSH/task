<?xml version="1.0" encoding="GB2312"?>
<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="oms.trade.order">
	
	<typeAlias alias="order" type="com.hsh24.sync.api.oms.bo.Order" />

	<select id="getOrderList" parameterClass="order" resultClass="order">
	<![CDATA[
		SELECT t.order_id AS orderId,
			   t.item_name AS itemName,
			   t.item_file_path AS itemFilePath,
			   t.properties_name AS propertiesName,
			   t.quantity,
			   t.price,
			   t.item_id AS itemId,
			   t.sku_id AS skuId,
			   t.create_user AS createUser
		  FROM dms.dms_tb_order t
		  LEFT JOIN oms.dms_vw_goods p ON t.item_id = p.item_id
		 WHERE p.item_id is not null
		   AND t.state = 'U'
		   AND p.state = 'U'
		   AND t.trade_id = #tradeId#
	]]>
	</select>
	
</sqlMap>
